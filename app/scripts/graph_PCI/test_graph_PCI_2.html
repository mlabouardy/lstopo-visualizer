<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="libs/joint.css" />
    <script src="libs/jquery.min.js"></script>
    <script src="libs/lodash.min.js"></script>
    <script src="libs/backbone-min.js"></script>
    <script src="libs/joint.js"></script>
</head>
<body>
	<div id="myholder"></div>
	<script src="graph_PCI.js"></script>
	<script type="text/javascript">
	
		/* 
		 * Nouveauté : les joints.
		 *
		 * Un joint = un noeud vide. Ils permettent
		 * d'étager les branches sans avoir à rajouter
		 * un bridge ou un PCI au début. Voir capture
		 * "joints.jpg" pour plus de détails
		 */
	
		var level0 = createBranch();
		pushBridge(level0);
		pushBridge(level0);
		pushPCI(level0, "PCI 02:00:0", 0, ["eth2"]);
		
		var level1 = level0.nodes[1].childBranch;
		pushPCI(level1, "PCI 02:00.1", 0, ["eth3"]);
		
		var level2 = level0.nodes[0].childBranch;
		pushJoint(level2);
		pushBridge(level2);
		pushPCI(level2, "PCI 01:00.0", 0, ["eth0"]);
		
		var level3 = level2.nodes[1].childBranch;
		pushPCI(level3, "PCI 01:00.1", 0, ["eth1"]);
		
		var level4 = level2.nodes[0].childBranch;
		pushJoint(level4);
		pushBridge(level4);
		pushPCI(level4, "PCI 3:00:0", 0, ["sda"]);
		
		var level5 = level4.nodes[0].childBranch;
		pushJoint(level5);
		pushBridge(level5);
		pushPCI(level5, "PCI 05:00.0", 0, ["opencl0d0\n32 compute units\n3015 MB"]);
		
		var level6 = level5.nodes[0].childBranch;
		pushJoint(level6);
		pushBridge(level6); pushBridge(level6);
		pushBridge(level6); pushBridge(level6);
		pushPCI(level6, "PCI 0b:00.0");
		
		var level7 = level6.nodes[0].childBranch;
		pushJoint(level7);
		pushPCI(level7, "PCI 00:1f.2");
		
		drawTree(level0);
  
	</script>
</body>
</html>